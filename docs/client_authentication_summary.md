# üöÄ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## ‚ùì –í–æ–ø—Ä–æ—Å: –ö–∞–∫ –∫–ª–∏–µ–Ω—Ç—É –ø–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å—å?

### üéØ –û—Ç–≤–µ—Ç: –ö–ª–∏–µ–Ω—Ç –ì–ï–ù–ï–†–ò–†–£–ï–¢ –ø–æ–¥–ø–∏—Å—å, –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –µ–µ!

## üîß –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞:

### 1Ô∏è‚É£ –ò–º–µ–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á
```
SHARED_KEY = "your-secret-key"  # –¢–æ—Ç –∂–µ, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```

### 2Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–æ–¥–ø–∏—Å—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
```python
import hmac, hashlib

def generate_signature(payload, shared_key):
    return hmac.new(
        shared_key.encode(),
        payload.encode(),
        hashlib.sha256
    ).hexdigest()
```

### 3Ô∏è‚É£ –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
```python
headers = {"X-Signature": signature}
```

## üìã –ü—Ä–∏–º–µ—Ä—ã:

### GET –∑–∞–ø—Ä–æ—Å:
```python
payload = ""  # –ü—É—Å—Ç–æ–π –¥–ª—è GET
signature = generate_signature("", SHARED_KEY)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: "f243e50f793cb97f46092f9d08328cf9c0a31d2eb77a785a8e629d11390a4841"
```

### POST –∑–∞–ø—Ä–æ—Å:
```python
payload = '{"lots":[{"lot_id":"test"}]}'
signature = generate_signature(payload, SHARED_KEY)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: –¥—Ä—É–≥–∞—è –ø–æ–¥–ø–∏—Å—å –¥–ª—è –¥—Ä—É–≥–æ–≥–æ payload
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:
- **–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å = –Ω–æ–≤–∞—è –ø–æ–¥–ø–∏—Å—å**
- **–¢–æ—á–Ω—ã–π JSON —Ñ–æ—Ä–º–∞—Ç** –¥–ª—è POST
- **–û–¥–∏–Ω–∞–∫–æ–≤—ã–π SHARED_KEY** –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ

## üéØ –ì–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è:

### –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± (–±–µ–∑ –ø–æ–¥–ø–∏—Å–µ–π):
```python
# –î–ª—è polling - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ù–ï –Ω—É–∂–Ω–∞
response = requests.get(f"/api/v1/jobs/{job_id}/status")
```

### –° –ø–æ–¥–ø–∏—Å—è–º–∏:
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ examples/simple_signature_example.py
```

## üîë –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π:
python3 tools/signature_helper.py "/api/v1/batch-status/JOB_ID"
```

---

**–ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø:** –ö–ª–∏–µ–Ω—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–¥–ø–∏—Å—å, –∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –µ–µ —Å–∞–º –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É HMAC-SHA256!